# Google Drive 下載工具 - Web 介面更新

## 🌟 新功能介紹

### 📁 資料夾瀏覽器
全新的資料夾瀏覽功能讓您可以直觀地瀏覽 Google Drive 內容：

#### 主要特色
- **🌐 直觀介面**: 類似檔案管理器的操作體驗
- **📍 路徑導航**: 面包屑式導航，輕鬆返回上層資料夾
- **🔍 搜尋篩選**: 即時搜尋檔案和資料夾
- **📊 統計資訊**: 即時顯示檔案數量和大小
- **🎨 多種視圖**: 支援表格和卡片兩種顯示模式

#### 功能詳細

##### 1. 資料夾瀏覽
- **進入資料夾**: 點擊「🔍 進入」按鈕
- **下載資料夾**: 點擊「📥 下載」按鈕
- **路徑導航**: 點擊面包屑中的任一資料夾名稱快速跳轉

##### 2. 搜尋與篩選
```
🔍 搜尋與篩選
├── 🔍 搜尋檔案/資料夾: 支援關鍵字搜尋
├── 📄 檔案類型篩選: 
│   ├── 全部
│   ├── 僅資料夾
│   ├── 僅檔案
│   ├── Google 文件
│   ├── 圖片
│   ├── 影片
│   └── PDF
└── 📊 排序方式:
    ├── 名稱 (A-Z / Z-A)
    ├── 修改時間 (新→舊 / 舊→新)
    └── 大小 (大→小 / 小→大)
```

##### 3. 快速操作
在資料夾內提供便捷操作：
- **📥 下載整個資料夾**: 一鍵下載當前資料夾
- **🔄 重新整理**: 更新資料夾內容
- **🔙 回到上層**: 快速返回上一層

##### 4. 檔案顯示模式
- **表格視圖**: 詳細資訊表格，最多顯示 50 個檔案
- **卡片視圖**: 美觀的卡片佈局，最多顯示 20 個檔案

##### 5. 資料夾預覽功能
點擊「🔍 預覽內容」可查看：
- **📊 內容統計**: 子資料夾數量、檔案總數、總大小
- **📈 檔案類型分佈**: 互動式圓餅圖
- **📝 檔案類型詳細**: 各類型檔案數量統計
- **📈 最大檔案**: 顯示前 5 個最大的檔案
- **🌳 資料夾結構**: 樹狀結構預覽

## 🚀 使用方法

### 啟動應用程式
```bash
# 方法 1: 使用啟動腳本
python run_streamlit.py

# 方法 2: 直接使用 streamlit
streamlit run ui/streamlit_app.py
```

### 操作流程

#### 1. 認證
- 首次使用需要完成 Google Drive 認證
- 支援 ADC (Application Default Credentials) 自動認證
- 支援手動 OAuth 認證

#### 2. 瀏覽資料夾
1. 認證成功後，自動進入「🌐 資料夾瀏覽」頁面
2. 預設顯示 Google Drive 根目錄的內容
3. 點擊資料夾可進入子目錄
4. 使用搜尋和篩選功能快速找到目標檔案

#### 3. 下載設定
1. 選擇要下載的資料夾
2. 設定下載選項：
   - ✅ 包含子資料夾
   - 🔄 最大並發數 (1-10)
   - 📄 Google Workspace 檔案格式
3. 設定輸出路徑
4. 查看預估資訊
5. 點擊「✅ 開始下載」

#### 4. 任務管理
- 切換到「📋 任務管理」頁面查看下載進度
- 支援暫停、繼續、取消下載任務
- 即時顯示下載統計和進度

## 🎨 UI 特色

### 設計理念
- **🎯 使用者友善**: 直觀的操作流程
- **📱 響應式設計**: 適應不同螢幕尺寸
- **🎨 現代化外觀**: 美觀的視覺設計
- **⚡ 高效能**: 優化的載入速度

### 視覺元素
- **📁 資料夾卡片**: 帶陰影的卡片式設計
- **🎨 檔案類型圖示**: 不同類型檔案的專屬圖示和顏色
- **📊 互動式圖表**: 使用 Plotly 製作的統計圖表
- **🔄 載入動畫**: 友善的載入提示

### 側邊欄功能
- **👤 使用者資訊**: 顯示登入使用者資料
- **💾 儲存空間**: 即時顯示 Drive 使用量
- **⚡ 快速操作**: 重新整理、清除快取、登出
- **⚙️ 設定選項**: 自動重新整理、進階資訊顯示

## 🔧 技術特色

### 效能優化
- **🚀 非同步處理**: 避免 UI 阻塞
- **📦 智慧快取**: 減少 API 呼叫次數
- **🔄 漸進式載入**: 分批載入大量檔案

### 錯誤處理
- **🛡️ 強健性**: 完善的錯誤捕獲和處理
- **📝 友善提示**: 清楚的錯誤訊息和解決建議
- **🔄 自動恢復**: 網路錯誤後自動重試

### 狀態管理
- **💾 Session State**: 維持使用者操作狀態
- **🔄 即時同步**: 多頁面間的狀態同步
- **📱 記憶功能**: 記住使用者偏好設定

## 📋 系統需求

### 環境要求
- Python 3.8+
- Streamlit 1.28+
- 網路連線

### 相依套件
```
streamlit
pandas
plotly
google-api-python-client
google-auth
google-auth-oauthlib
```

## 🔮 未來規劃

- **📱 行動裝置優化**: 更好的行動裝置支援
- **🌙 暗色主題**: 支援暗色模式
- **🔄 批次操作**: 支援多選下載
- **📊 進階分析**: 更詳細的檔案分析功能
- **🔔 通知系統**: 下載完成通知

## 🤝 回饋與建議

 